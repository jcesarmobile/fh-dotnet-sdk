<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fh-dotnet-sdk: FeedHenry C#/.NET SDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fh-dotnet-sdk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__read_me.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FeedHenry C#/.NET SDK </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://ci.appveyor.com/project/edewit/fh-dotnet-sdk-tekce"></a></p>
<p>FeedHenry native .NET SDK for Windows Phone 8+ and Xamarin platform. It supports Portable Class Library (PCL) projects as well.</p>
<h2>Install</h2>
<p>You can install the SDK to your project either automatically (using NuGet) or manually.</p>
<h3>NuGet (Recommended)</h3>
<p>FH SDK is available on NuGet: <a href="https://www.nuget.org/packages/FH.SDK/">https://www.nuget.org/packages/FH.SDK/</a>. If you are using the NuGet plugin on Visual Studio or Xamarin Studio, please search for FH.SDK. NuGet will install dependecy libraries automatically.</p>
<h3>Manually</h3>
<p>The .dll assembly files can be found in the [Distribution directory](Dist). Please use the .dll files inside the folder that is corresponding to your project's target platform. The SDK is depending on <a href="https://www.nuget.org/packages/Newtonsoft.Json/">Json.Net</a> and <a href="https://www.nuget.org/packages/Microsoft.Net.Http/">Microsoft HTTP Client Libraries</a>. You need to install the assemblies of those libraries as well if they are not available in your project.</p>
<h2>Usage</h2>
<h3>FHClient.Init</h3>
<p>Initialise the SDK. Normally it should be called immediately after the app finish initialising. FHClient is available in the following namespaces:</p>
<ul>
<li>FHSDK.Phone - For WP8</li>
<li>FHSDK.Droid - For Android</li>
<li>FHSDK.Touch - For iOS</li>
</ul>
<p>Depending on your app's build target, only one of these name spaces should be available to your app.</p>
<p>The main reason for having the same FHClient class defined in different name spaces is to ensure that the platform-specific assembly file is loaded correctly.</p>
<div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div><div class="line">  <span class="keywordtype">bool</span> inited = await FHClient.Init();</div><div class="line">  <span class="keywordflow">if</span>(inited) {</div><div class="line">    <span class="comment">//Initialisation is successful</span></div><div class="line">  }</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span>(FHException e) {</div><div class="line">  <span class="comment">//Initialisation failed, handle exception</span></div><div class="line">}</div></div><!-- fragment --><h3>FH.Cloud</h3>
<p>Invoke a cloud function. Can be used in PCL projects.</p>
<div class="fragment"><div class="line">FHResponse response = await FH.Cloud(<span class="stringliteral">&quot;api/echo&quot;</span>, <span class="stringliteral">&quot;GET&quot;</span>, null, null);</div><div class="line"><span class="keywordflow">if</span>(null == response.Error)</div><div class="line">{</div><div class="line">  <span class="comment">//no error occured, the request is successful </span></div><div class="line">  <span class="keywordtype">string</span> rawResponseData = response.RawResponse;</div><div class="line">  <span class="comment">//you can get it as JSONObject (require Json.Net library)</span></div><div class="line">  JObject resJson = response.GetResponseAsJObject();</div><div class="line">  <span class="comment">//process response data</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">  <span class="comment">//error occured during the request, deal with it. </span></div><div class="line">  <span class="comment">//More infomation can be access from response.Error.InnerException</span></div><div class="line">}</div></div><!-- fragment --><h3>FH.Auth</h3>
<p>Call the FeedHenry Authentication API with the given policyId. This is normally used for OAuth type authentications. The user will be prompted for login details and the the login result will be returned. Can be used in PCL projects.</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> authPolicy = <span class="stringliteral">&quot;TestGooglePolicy&quot;</span>;</div><div class="line">FHResponse res = await FH.Auth(authPolicy);</div><div class="line"><span class="keywordflow">if</span> (null == res.Error)</div><div class="line">{</div><div class="line">    <span class="comment">//auth is successful</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">//auth failed</span></div><div class="line">}</div></div><!-- fragment --><h3>FH.GetCloudHost</h3>
<p>Return the url of the cloud host the app is communicating with. Can be used in PCL projects.</p>
<h3>FH.Act (Deprecated)</h3>
<p>Invoke a cloud function which you have defined in cloud/main.js (the old way). Can be used in PCL projects.</p>
<p>For full list of APIs, please check <a href="http://feedhenry.github.io/fh-dotnet-sdk/Documentations/FHDotNetSDKDoc/Help/index.html">FH .NET SDK API References</a>.</p>
<h2>Sync Client</h2>
<p>See <a class="el" href="md__sync_client.html">Sync Client Usage Guide</a>.</p>
<h2>Solution Structure</h2>
<p>The complete FH .NET SDK contains four projects:</p>
<ul>
<li><p class="startli"><a class="el" href="namespace_f_h_s_d_k.html">FHSDK</a></p>
<p class="startli">A PCL library contains core code. It is required by all the other three projects. Most the the APIs are implemented here. It contains a few interface definitions which are implemented in each platform's project. Another important function of this library is to automatically figure out the correct implementions for the inferfaces when running on devices (see code in <a href="FHSDK/Adaptation">FHSDK/Adaptation</a>). The assembly file built by the project can be used by other PCL projects.</p>
</li>
<li><p class="startli"><a class="el" href="namespace_f_h_s_d_k_phone.html">FHSDKPhone</a></p>
<p class="startli">A WP8 library project. Contains implementaion details for WP8 platform.</p>
</li>
<li><p class="startli"><a class="el" href="namespace_f_h_xamarin_android_s_d_k.html">FHXamarinAndroidSDK</a></p>
<p class="startli">A Xamarin Android library project. Contains implementaion details for Android platform.</p>
</li>
<li><p class="startli">FHXamarinIOSSDK</p>
<p class="startli">A Xamarin IOS library project. Contains implementaion details for iOS platform.</p>
</li>
</ul>
<h2>Testing</h2>
<p>There are 3 test projects ceated for each platform:</p>
<ul>
<li><a class="el" href="namespace_f_h_s_d_k_android_test.html">FHSDKAndroidTest</a> (NUnit Lite for Android)</li>
<li>FHSDKIOSTest (NUnit Lite for IOS)</li>
<li>FHSDKWindowsPhoneTestNative (WindowsPhoneUnitTest)</li>
</ul>
<p>They all link to the test files in [FHSDKTestShared](FHSDKTestShared) project.</p>
<p>Before running the test, make sure the <a href="https://github.com/fheng/fh-sdks-test-cloud-app">TestCloudApp</a> is running somewhere, and update the following files to point them to the cloud app:</p>
<ul>
<li><a href="FHSDKAndroidTest/Assets/fhconfig.local.properties">fhconfig.local.properties</a></li>
<li><a href="FHSDKIOSTest/fhconfiglocal.plist">fhconfiglocal.plist</a></li>
<li><a href="FHSDKWindowsPhoneTestNative/fhconfig.local.json">fhconfig.local.json</a></li>
</ul>
<p>Then you can deploy the test projects to the emulators or devices and run the tests (For Windows Phone, just run the tests using Visual Studio).</p>
<h2>Building</h2>
<p>Open FHSDK.sln solution in Visual Studio and build for Xamarin open FHSDK.sln in xamarin folder</p>
<p>To generate and publish the API docs, please do the following:</p>
<ul>
<li>Build the FHDotNetSDKDoc project</li>
<li>Commit changes</li>
<li>Checkout gh-pages branch</li>
<li>Merge the branch which contains the latests docs</li>
<li>Push gh-pages to remote repo</li>
</ul>
<h2>Publishing to NuGet</h2>
<p>Read the <a class="el" href="md__dist_make-dist.html">infomation in the dist folder</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
